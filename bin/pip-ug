#!/bin/bash

RES_LOG_FILE=/tmp/pip-ug.`date +"%s"`.res.log

pip3 list -o | cut -f1 -d' ' | tr " " "\n" | awk '{if(NR>=3)print}' | cut -d' ' -f1 >& $RES_LOG_FILE
if [ $(wc -c < "$RES_LOG_FILE") -eq 0 ]; then
    rm $RES_LOG_FILE
    exit
fi

cat $RES_LOG_FILE | xargs -n1 pip install -U
rm $RES_LOG_FILE
